import{x as R,a as A,B as D,_ as V}from"./index.140309e9.js";/* empty css               *//* empty css              */import{d as w,e as v,B as I,aD as C,aG as t,aH as a,C as U,aE as P,u as E,aL as h,aM as $,bm as L,c2 as q,bY as T,b8 as x,bD as F,b3 as N,b4 as M,bR as z,aV as G,b9 as O,a_ as W,bB as H,bC as Y,b$ as j,c0 as J}from"./arco.bbdacfc8.js";/* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                */import"./chart.6ce23b19.js";import"./vue.67b87df8.js";function K(b,l){return R.post("/api/user/upload",b,l)}const Q=["src"],X=w({__name:"user-panel",setup(b){const l=v({VITE_API_BASE_URL:"",VITE_FURINA_APP_IMG_URL:"",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}),o=A(),m={uid:"-2",name:"avatar.png",url:l.value.VITE_FURINA_APP_IMG_URL+o.avatar},c=[{label:"userSetting.label.name",value:o.username},{label:"userSetting.label.accountId",value:o.accountId}],e=v([m]),n=(s,u)=>{e.value=[u]},_=s=>{const u=new AbortController;return async function(){const{onProgress:p,onError:f,onSuccess:r,fileItem:y,name:S="file"}=s;p(20);const g=new FormData;g.append(S,y.file);const B=i=>{let k;i.total>0&&(k=i.loaded/i.total*100),p(parseInt(String(k),10),i)};try{const i=await K(g,{controller:u,onUploadProgress:B});r(i)}catch(i){f(i)}}(),{abort(){u.abort()}}};return(s,u)=>{const d=D,p=L,f=q,r=T,y=x,S=F;return I(),C(S,{bordered:!1},{default:t(()=>[a(y,{size:54},{default:t(()=>[a(f,{"custom-request":_,"list-type":"picture-card","file-list":e.value,"show-upload-button":!0,"show-file-list":!1,onChange:n},{"upload-button":t(()=>[a(p,{size:100,class:"info-avatar"},{"trigger-icon":t(()=>[a(d)]),default:t(()=>[e.value.length?(I(),U("img",{key:0,src:e.value[0].url},null,8,Q)):P("",!0)]),_:1})]),_:1},8,["file-list"]),a(r,{data:E(c),column:2,align:"right",layout:"inline-horizontal","label-style":{width:"140px",fontWeight:"normal",color:"rgb(var(--gray-8))"},"value-style":{width:"200px",paddingLeft:"8px",textAlign:"left"}},{label:t(({label:g})=>[h($(s.$t(g))+" :",1)]),_:1},8,["data","label-style"])]),_:1})]),_:1})}}});const Z=V(X,[["__scopeId","data-v-f9f7e05d"]]),ee=w({__name:"basic-information",setup(b){const l=v(),o=v({email:"",username:"",profile:""}),m=async()=>{var e;await((e=l.value)==null?void 0:e.validate())},c=async()=>{var e;await((e=l.value)==null?void 0:e.resetFields())};return(e,n)=>{const _=N,s=M,u=z,d=G,p=x,f=O;return I(),C(f,{ref_key:"formRef",ref:l,model:o.value,class:"form","label-col-props":{span:8},"wrapper-col-props":{span:16}},{default:t(()=>[a(s,{field:"email",label:e.$t("userSetting.basicInfo.form.label.email"),rules:[{required:!0,message:e.$t("userSetting.form.error.email.required")}]},{default:t(()=>[a(_,{modelValue:o.value.email,"onUpdate:modelValue":n[0]||(n[0]=r=>o.value.email=r),placeholder:e.$t("userSetting.basicInfo.placeholder.email")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(s,{field:"nickname",label:e.$t("userSetting.basicInfo.form.label.nickname"),rules:[{required:!0,message:e.$t("userSetting.form.error.nickname.required")}]},{default:t(()=>[a(_,{modelValue:o.value.username,"onUpdate:modelValue":n[1]||(n[1]=r=>o.value.username=r),placeholder:e.$t("userSetting.basicInfo.placeholder.nickname")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(s,{field:"profile",label:e.$t("userSetting.basicInfo.form.label.profile"),rules:[{maxLength:200,message:e.$t("userSetting.form.error.profile.maxLength")}],"row-class":"keep-margin"},{default:t(()=>[a(u,{modelValue:o.value.profile,"onUpdate:modelValue":n[2]||(n[2]=r=>o.value.profile=r),placeholder:e.$t("userSetting.basicInfo.placeholder.profile")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(s,null,{default:t(()=>[a(p,null,{default:t(()=>[a(d,{type:"primary",onClick:m},{default:t(()=>[h($(e.$t("userSetting.save")),1)]),_:1}),a(d,{type:"secondary",onClick:c},{default:t(()=>[h($(e.$t("userSetting.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const ae=V(ee,[["__scopeId","data-v-d52789e3"]]),te={class:"container"},oe={name:"Setting"},ne=w({...oe,setup(b){return(l,o)=>{const m=W("Breadcrumb"),c=H,e=Y,n=j,_=J;return I(),U("div",te,[a(m,{items:["menu.user","menu.user.setting"]},null,8,["items"]),a(e,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(c,{span:24},{default:t(()=>[a(Z)]),_:1})]),_:1}),a(e,{class:"wrapper"},{default:t(()=>[a(c,{span:24},{default:t(()=>[a(_,{"default-active-key":"1",type:"rounded"},{default:t(()=>[a(n,{key:"1",title:l.$t("userSetting.tab.basicInformation")},{default:t(()=>[a(ae)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})])}}});const ve=V(ne,[["__scopeId","data-v-cea01a65"]]);export{ve as default};
