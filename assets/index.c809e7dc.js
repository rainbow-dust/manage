import{x as R,_ as k}from"./index.140309e9.js";/* empty css              */import{d as V,e as g,B as v,aD as b,aG as a,aH as t,aL as n,F as w,aM as p,b3 as C,b4 as T,bQ as N,bN as q,bM as E,aV as S,b9 as L,aT as A,bR as D,b8 as I,C as M,bz as P,bi as z,b7 as H,bH as G,a_ as K,bu as O,aE as Q,u as Z,bS as j,bT as J,bD as W,bE as X}from"./arco.bbdacfc8.js";import{u as Y}from"./loading.b4b50533.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                */import"./chart.6ce23b19.js";import"./vue.67b87df8.js";function x(y){return R.post("/api/channel-form/submit",{data:y})}const ee=V({__name:"base-info",emits:["changeStep"],setup(y,{emit:f}){const m=g(),e=g({activityName:"",channelType:"",promotionTime:[],promoteLink:"https://arco.design"}),c=async()=>{var o;await((o=m.value)==null?void 0:o.validate())||f("changeStep","forward",{...e.value})};return(l,o)=>{const r=C,s=T,i=N,d=q,h=E,$=S,F=L;return v(),b(F,{ref_key:"formRef",ref:m,model:e.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(s,{field:"activityName",label:l.$t("stepForm.form.label.activityName"),rules:[{required:!0,message:l.$t("stepForm.form.error.activityName.required")},{match:/^[a-zA-Z0-9\u4e00-\u9fa5]{1,20}$/,message:l.$t("stepForm.form.error.activityName.pattern")}]},{default:a(()=>[t(r,{modelValue:e.value.activityName,"onUpdate:modelValue":o[0]||(o[0]=u=>e.value.activityName=u),placeholder:l.$t("stepForm.placeholder.activityName")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(s,{field:"channelType",label:l.$t("stepForm.form.label.channelType"),rules:[{required:!0,message:l.$t("stepForm.form.error.channelType.required")}]},{default:a(()=>[t(d,{modelValue:e.value.channelType,"onUpdate:modelValue":o[1]||(o[1]=u=>e.value.channelType=u),placeholder:l.$t("stepForm.placeholder.channelType")},{default:a(()=>[t(i,null,{default:a(()=>[n("APP\u901A\u7528\u6E20\u9053")]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(s,{field:"promotionTime",label:l.$t("stepForm.form.label.promotionTime"),rules:[{required:!0,message:l.$t("stepForm.form.error.promotionTime.required")}]},{default:a(()=>[t(h,{modelValue:e.value.promotionTime,"onUpdate:modelValue":o[2]||(o[2]=u=>e.value.promotionTime=u)},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(s,{field:"promoteLink",label:l.$t("stepForm.form.label.promoteLink"),rules:[{required:!0,message:l.$t("stepForm.form.error.promoteLink.required")},{type:"url",message:l.$t("stepForm.form.error.promoteLink.pattern")}],"row-class":"keep-margin"},{help:a(()=>[w("span",null,p(l.$t("stepForm.form.tip.promoteLink")),1)]),default:a(()=>[t(r,{modelValue:e.value.promoteLink,"onUpdate:modelValue":o[3]||(o[3]=u=>e.value.promoteLink=u),placeholder:l.$t("stepForm.placeholder.promoteLink")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(s,null,{default:a(()=>[t($,{type:"primary",onClick:c},{default:a(()=>[n(p(l.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const te=k(ee,[["__scopeId","data-v-ed88d071"]]),oe=V({__name:"channel-info",emits:["changeStep"],setup(y,{emit:f}){const m=g(),e=g({advertisingSource:"",advertisingMedia:"",keyword:[],pushNotify:!0,advertisingContent:""}),c=async()=>{var r;await((r=m.value)==null?void 0:r.validate())||f("changeStep","submit",{...e.value})},l=()=>{f("changeStep","backward")};return(o,r)=>{const s=C,i=T,d=N,h=q,$=A,F=D,u=S,B=I,U=L;return v(),b(U,{ref_key:"formRef",ref:m,model:e.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(i,{field:"advertisingSource",label:o.$t("stepForm.form.label.advertisingSource"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingSource.required")}]},{default:a(()=>[t(s,{modelValue:e.value.advertisingSource,"onUpdate:modelValue":r[0]||(r[0]=_=>e.value.advertisingSource=_),placeholder:o.$t("stepForm.placeholder.advertisingSource")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"advertisingMedia",label:o.$t("stepForm.form.label.advertisingMedia"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingMedia.required")}]},{default:a(()=>[t(s,{modelValue:e.value.advertisingMedia,"onUpdate:modelValue":r[1]||(r[1]=_=>e.value.advertisingMedia=_),placeholder:o.$t("stepForm.placeholder.advertisingMedia")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"keyword",label:o.$t("stepForm.form.label.keyword"),rules:[{required:!0,message:o.$t("stepForm.form.error.keyword.required")}]},{default:a(()=>[t(h,{modelValue:e.value.keyword,"onUpdate:modelValue":r[2]||(r[2]=_=>e.value.keyword=_),placeholder:o.$t("stepForm.placeholder.keyword"),multiple:""},{default:a(()=>[t(d,null,{default:a(()=>[n("\u4ECA\u65E5\u5934\u6761")]),_:1}),t(d,null,{default:a(()=>[n("\u706B\u5C71")]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"pushNotify",label:o.$t("stepForm.form.label.pushNotify"),rules:[{required:!0}]},{default:a(()=>[t($,{modelValue:e.value.pushNotify,"onUpdate:modelValue":r[3]||(r[3]=_=>e.value.pushNotify=_)},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{field:"advertisingContent",label:o.$t("stepForm.form.label.advertisingContent"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingContent.required")},{maxLength:200,message:o.$t("stepForm.form.error.advertisingContent.maxLength")}],"row-class":"keep-margin"},{default:a(()=>[t(F,{modelValue:e.value.advertisingContent,"onUpdate:modelValue":r[4]||(r[4]=_=>e.value.advertisingContent=_),placeholder:o.$t("stepForm.placeholder.advertisingContent")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,null,{default:a(()=>[t(B,null,{default:a(()=>[t(u,{type:"secondary",onClick:l},{default:a(()=>[n(p(o.$t("stepForm.button.prev")),1)]),_:1}),t(u,{type:"primary",onClick:c},{default:a(()=>[n(p(o.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const ae=k(oe,[["__scopeId","data-v-045b8636"]]),re={class:"success-wrap"},le={class:"details-wrapper"},se=V({__name:"success",emits:["changeStep"],setup(y,{emit:f}){const m=()=>{f("changeStep",1)};return(e,c)=>{const l=P,o=S,r=I,s=z,i=H,d=G;return v(),M("div",re,[t(l,{status:"success",title:e.$t("stepForm.success.title"),subtitle:e.$t("stepForm.success.subTitle")},null,8,["title","subtitle"]),t(r,{size:16},{default:a(()=>[t(o,{key:"view",type:"primary"},{default:a(()=>[n(p(e.$t("stepForm.button.view")),1)]),_:1}),t(o,{key:"again",type:"secondary",onClick:m},{default:a(()=>[n(p(e.$t("stepForm.button.again")),1)]),_:1})]),_:1}),w("div",le,[t(s,{heading:6,style:{"margin-top":"0"}},{default:a(()=>[n(p(e.$t("stepForm.form.description.title")),1)]),_:1}),t(d,{style:{"margin-bottom":"0"}},{default:a(()=>[n(p(e.$t("stepForm.form.description.text"))+" ",1),t(i,{href:"link"},{default:a(()=>[n(p(e.$t("stepForm.button.view")),1)]),_:1})]),_:1})])])}}});const ne=k(se,[["__scopeId","data-v-45ee03cb"]]),pe={class:"container"},ie={class:"wrapper"},ue={name:"Step"},me=V({...ue,setup(y){const{loading:f,setLoading:m}=Y(!1),e=g(1),c=g({}),l=async()=>{m(!0);try{await x(c.value),e.value=3,c.value={}}catch{}finally{m(!1)}},o=(r,s)=>{if(typeof r=="number"){e.value=r;return}if(r==="forward"||r==="submit"){if(c.value={...c.value,...s},r==="submit"){l();return}e.value+=1}else r==="backward"&&(e.value-=1)};return(r,s)=>{const i=K("Breadcrumb"),d=j,h=J,$=W,F=X;return v(),M("div",pe,[t(i,{items:["menu.form","menu.form.step"]},null,8,["items"]),t(F,{loading:Z(f),style:{width:"100%"}},{default:a(()=>[t($,{class:"general-card"},{title:a(()=>[n(p(r.$t("stepForm.step.title")),1)]),default:a(()=>[w("div",ie,[t(h,{current:e.value,"onUpdate:current":s[0]||(s[0]=u=>e.value=u),style:{width:"580px"},"line-less":"",class:"steps"},{default:a(()=>[t(d,{description:r.$t("stepForm.step.subTitle.baseInfo")},{default:a(()=>[n(p(r.$t("stepForm.step.title.baseInfo")),1)]),_:1},8,["description"]),t(d,{description:r.$t("stepForm.step.subTitle.channel")},{default:a(()=>[n(p(r.$t("stepForm.step.title.channel")),1)]),_:1},8,["description"]),t(d,{description:r.$t("stepForm.step.subTitle.finish")},{default:a(()=>[n(p(r.$t("stepForm.step.title.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(v(),b(O,null,[e.value===1?(v(),b(te,{key:0,onChangeStep:o})):e.value===2?(v(),b(ae,{key:1,onChangeStep:o})):e.value===3?(v(),b(ne,{key:2,onChangeStep:o})):Q("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Le=k(me,[["__scopeId","data-v-9e75da9b"]]);export{Le as default};
